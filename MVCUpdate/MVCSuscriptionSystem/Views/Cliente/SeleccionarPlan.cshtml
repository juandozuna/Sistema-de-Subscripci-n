@using MVCSuscriptionSystem.MethodManagers
@using MVCSuscriptionSystem.Models
@model IEnumerable<Plan>

@{
    ViewBag.Title = "Plan Select";
    EntityModel db = new EntityModel();
    var planes = db.Plans.ToList();
}

<h2 class="display-2 text-center">Que plan desea tener</h2>

<div class="row">
    @foreach (var plan in Model)
    {
        <div class="col-md-4" >
            <div class="card" style="width: 20rem; margin-top: 21px">
                <img class="card-img-top" src="@ImagenManager.RetornarSourceImagen(plan.ImagenID)" alt="Card image cap"/>
                <div class="card-body">
                    <h4 class="card-title"><span class="text-muted">@plan.PlanID</span>. @plan.Nombre</h4>
                    <h6 class="card-subtitle text-muted mb-2">Servicios</h6>
                    @foreach (var servicio in plan.ServicioEnPlans)
                    {
                        <p>@servicio.Servicio.Nombre | <span class="text-muted">@servicio.Servicio.Precio</span></p>
                    }
                    <p>Precio <span class="text-muted">@plan.Precio</span></p>
                    @Html.ActionLink("Seleccionar", "PlanElegido", "Cliente", new {PlanId = plan.PlanID, ClienteId = ViewBag.ClienteId}, new {@class="btn btn-primary"})
                </div>
            </div>
        </div>

    }
</div>

